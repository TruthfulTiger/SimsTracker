		<check if="{{ @challenges }}">
			<true>
				<table width="100%" cellpadding="5" class="challenges table table-hover table-bordered">
					<thead>
					<tr>
						<th scope="col">
							<select class="custom-select" id="challengeSort">
							<option value="">Challenge scope</option>
							<option value="Neighbourhood">Neighbourhood</option>
							<option value="Household">Household</option>
							<option value="Character">Character</option>
							</select>
						</th>
						<th scope="col">Name</th>
						<th scope="col">Challenge Type</th>
						<th scope="col">Action</th>
					</tr>
					</thead>
					<tbody>
					<repeat group="{{ @challenges }}" value="{{ @challenge }}">
						<check if="{{ @challenge.nhID == null }}">
							<repeat group="{{ @households }}" value="{{ @household }}">
								<check if="{{ @household.hhID == @challenge.hhID }}">
									<tr>
										<td>
										<check if="{{ @challenge.nhID != null }}">
										Neighbourhood
										</check>
										<check if="{{ @challenge.hhID != null }}">
										Household
										</check>
										<check if="{{ @challenge.simID != null }}">
										Character
										</check>
										</td>
										<td>{{ trim(@challenge.challengeName) }}</td>
										<td>{{ trim(@challenge.type) }}</td>
										<td><a href="{{ @BASE.'/challenge/update/'. @challenge.id }}" class="btn btn-primary"><i class="fa fa-edit" aria-hidden="true"></i> Edit</a>
											<a href="{{ @BASE.'/challenge/delete/'. @challenge.id }}"
											   data-toggle="confirmation"
											   data-title-class="text-primary"
											   data-content="All challenge data will be deleted."
											   class="btn btn-danger delete"><i class="fa fa-trash" aria-hidden="true"></i>
												Delete</a></td>
									</tr>
								</check>
							</repeat>
						</check>
					</repeat>
					</tbody>
				</table>
			</true>
			<false>
				<p>No challenges found.</p>
			</false>
		</check>

<script>
$(document).ready( function () {
    let table = $('.challenges').DataTable({
        responsive: {
        breakpoints: [
            { name: 'desktop', width: Infinity },
            { name: 'tablet',  width: 1024 },
            { name: 'fablet',  width: 768 },
            { name: 'phone',   width: 480 }
        ]
    }
	});
	$('#challengeSort').change(function() {
		let val = $(this).find('option:selected').val();
		console.log(val);
		table.columns(0).search(val).draw();
	});
} );
</script>