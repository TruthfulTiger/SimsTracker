<h3><?= ($cat) ?> <a href="#" class="badge badge-pill badge-secondary title" data-toggle="collapse" data-target="#ghostsHelp" aria-expanded="false" aria-controls="ghostsHelp">
	?</a>
	</a></h3>
<div class="collapse" id="ghostsHelp">
	<div class="card card-body">
		<dt>From SimsLegacyChallenge.com</dt>
		<dd>At the beginning of the challenge, before you have even created your founder, look at the long list of possible <a href="https://www.simslegacychallenge.com/legacy-challenge-rules/sims-2-legacy-challenge-rules-advanced/sims-2-legacy-challenge-handicaps/" target="_blank">handicaps.</a> You may choose as many or as few as you think you can handle. You may even choose 0 handicaps if you want a very simple challenge! Be aware that some handicapsmake others impossible to obey. (Livin’ Very Large and Presidential Phyical fitness oppose each other, for example). If you are going for a perfect score, you need to choose at least 10 points worth of handicaps.
			<br/><br/>
			Unless the handicap says otherwise, you earn the point(s) at the END of the challenge, provided you were able to obey the restriction for the entire challenge.<br/>
			If you break a restriction on a handicap, you will not receive its points at the end of the challenge, but there is no penalty otherwise.<br/>
			Handicap points earned over 10 go into the overflow category.
		</dd>
	</div>
</div>
<div class="form-row">
    <div class="col">
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="nowhere" id="nowhere" <?= ($nwchk) ?>/>
			<label class="custom-control-label" for="nowhere">Middle of Nowhere</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="dressed" id="dressed" <?= ($dresschk) ?>/>
			<label class="custom-control-label" for="dressed">Well Dressed Sims</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="green" id="green" <?= ($gnchk) ?>/>
			<label class="custom-control-label" for="green">Green Thumb</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="diy" id="diy" <?= ($diychk) ?>/>
			<label class="custom-control-label" for="diy">Do it yourself</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="noble" id="noble" <?= ($nbchk) ?>/>
			<label class="custom-control-label" for="noble">Noble Composure</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="fearless" id="fearless" <?= ($flchk) ?>/>
			<label class="custom-control-label" for="fearless">Fearless</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="isbi" id="isbi" <?= ($isbick) ?>/>
			<label class="custom-control-label" for="isbi">Hands Off</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="jobs" id="jobs" <?= ($jbchk) ?>/>
			<label class="custom-control-label" for="jobs">Tight Job Market</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="obey" id="obey" <?= ($obeychk) ?>/>
			<label class="custom-control-label" for="obey">Obey your sims</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="behind" id="behind" <?= ($bhchk) ?>/>
			<label class="custom-control-label" for="behind">Behind the times</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="large" id="large" <?= ($lgchk) ?>/>
			<label class="custom-control-label" for="large">Livin’ VERY large</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="patriarchy" id="patriarchy" <?= ($pmchk) ?>/>
			<label class="custom-control-label" for="patriarchy">Patriarchy/Matriarchy</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="oneway" id="oneway" <?= ($owchk) ?>/>
			<label class="custom-control-label" for="oneway">One way street</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="aspiring" id="aspiring" <?= ($aspchk) ?>/>
			<label class="custom-control-label" for="aspiring">Aspiring to do it the hard way</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="extreme" id="extreme" <?= ($exchk) ?>/>
			<label class="custom-control-label" for="extreme">eXtreme</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="love" id="love" <?= ($lvchk) ?>/>
			<label class="custom-control-label" for="love">True Love</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="familyvals" id="familyvals" <?= ($fvchk) ?>/>
			<label class="custom-control-label" for="familyvals">Strict family values</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="fitness" id="fitness" <?= ($ftchk) ?>/>
			<label class="custom-control-label" for="fitness">Presidential Physical Fitness</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="hypo" id="hypo" <?= ($hypochk) ?>/>
			<label class="custom-control-label" for="hypo">Hypochondriac</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="paranoid" id="paranoid" <?= ($parachk) ?>/>
			<label class="custom-control-label" for="paranoid">Paranoid</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="ghosts" id="ghosts" <?= ($ghostsck) ?>/>
			<label class="custom-control-label" for="ghosts">Free Roaming Ghosts</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="entrepreneur" id="entrepreneur" <?= ($startupchk) ?>/>
			<label class="custom-control-label" for="entrepreneur">Pure Entrepreneur</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="storyteller" id="storyteller" <?= ($stchk) ?>/>
			<label class="custom-control-label" for="storyteller">Storyteller</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="apocalypse" id="apocalypse" <?= ($falloutchk) ?>/>
			<label class="custom-control-label" for="apocalypse">The Apocalypse</label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="gas" id="gas" <?= ($gaschk) ?>/>
			<label class="custom-control-label" for="gas">Gas Line <img src="<?= ($BASE) ?><?= ($s2path) ?>BV.png" alt="Needs BV"></label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="cultured" id="cultured" <?= ($ctchk) ?>/>
			<label class="custom-control-label" for="cultured">Multi-Cultured <img src="<?= ($BASE) ?><?= ($s2path) ?>BV.png" alt="Needs BV"></label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="turmoil" id="turmoil" <?= ($itchk) ?>/>
			<label class="custom-control-label" for="turmoil">International Turmoil <img src="<?= ($BASE) ?><?= ($s2path) ?>BV.png" alt="Needs BV"></label>
		</div>
		<div class="custom-control custom-checkbox">
			<input type="checkbox" class="custom-control-input handicaps" value="1" name="zone" id="zone" <?= ($zchk) ?>/>
			<label class="custom-control-label" for="zone">Danger Zone <img src="<?= ($BASE) ?><?= ($s2path) ?>FT.png" alt="Needs FT"></label>
		</div>
	</div>
</div>
<input type="hidden" name="ht" id="ht" value="<?= ($handicapstotal) ?>">
<p class="lead mt-3 mb-3"><b>Sub total: <output id="handicapstotal" name="handicapstotal" for="ht"><span
    <?php if ($handicapstotal  == 0): ?>class="badge badge-primary"<?php endif; ?>
    <?php if ($handicapstotal  > 0): ?>class="badge badge-success"<?php endif; ?>
    <?php if ($handicapstotal  < 0): ?>class="badge badge-danger"<?php endif; ?>>
    <?= ($handicapstotal)."
" ?>
	</span></output></b></p>

<script>
	$(function () {
		$(".handicaps").change(function(){
			let boxes = $('.handicaps:checked').length;
			if ($('#isbi').prop('checked'))
				boxes ++;
			if ($('#aspiring').prop('checked'))
				boxes ++;
			if ($('#love').prop('checked'))
				boxes ++;
			if ($('#ghosts').prop('checked'))
				boxes ++;
			if ($('#entrepreneur').prop('checked'))
				boxes += 2;
			if ($('#apocalypse').prop('checked'))
				boxes +=4;
			handicapSub(boxes);
		});
	});

	function handicapSub(boxes) {
		let hresult = parseInt(boxes);

		if (hresult > 10) {
			let o = hresult - 10;
			$("#handicapstotal").val(10);
			$("#ht").val(10);
			$("#ohandicaps").val(o);
			ohandicapsChange(o);
		} else {
			$("#handicapstotal").val(hresult);
			$("#ht").val(hresult);
			$("#ohandicaps").val(0);
			ohandicapsChange(0);
		}
		gtChange();

		if (hresult == 0) {
			$('#handicapstotal').removeClass('badge badge-danger');
			$('#handicapstotal').removeClass('badge badge-success');
			$('#handicapstotal').addClass('badge badge-primary');
		}


		if (hresult > 0) {
			$('#handicapstotal').removeClass('badge badge-danger');
			$('#handicapstotal').removeClass('badge badge-primary');
			$('#handicapstotal').addClass('badge badge-success');
		}

		if (hresult < 0) {
			$('#handicapstotal').removeClass('badge badge-primary');
			$('#handicapstotal').removeClass('badge badge-success');
			$('#handicapstotal').addClass('badge badge-danger');
		}
	}
</script>